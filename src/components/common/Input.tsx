'use client';

import { useState } from 'react';

interface InputProps {
  type: string;
  placeholder: string;
  error?: string;
  name?: string;
  value?: string;
}

function VisibilityOn() {
  return (
    <svg
      width="24"
      height="24"
      viewBox="0 0 22 15"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M11.0021 11.5769C12.1352 11.5769 13.0976 11.1803 13.8892 10.3871C14.6809 9.59394 15.0767 8.6308 15.0767 7.4977C15.0767 6.36462 14.6802 5.40224 13.887 4.61058C13.0938 3.81891 12.1307 3.42308 10.9976 3.42308C9.86448 3.42308 8.9021 3.81966 8.11044 4.61282C7.31877 5.40601 6.92294 6.36915 6.92294 7.50225C6.92294 8.63533 7.31952 9.59771 8.11269 10.3894C8.90587 11.181 9.86901 11.5769 11.0021 11.5769ZM10.9998 10.2C10.2498 10.2 9.61234 9.93748 9.08734 9.41248C8.56234 8.88748 8.29984 8.24998 8.29984 7.49998C8.29984 6.74998 8.56234 6.11248 9.08734 5.58748C9.61234 5.06248 10.2498 4.79998 10.9998 4.79998C11.7498 4.79998 12.3873 5.06248 12.9123 5.58748C13.4373 6.11248 13.6998 6.74998 13.6998 7.49998C13.6998 8.24998 13.4373 8.88748 12.9123 9.41248C12.3873 9.93748 11.7498 10.2 10.9998 10.2ZM10.9998 14.5C8.89472 14.5 6.96941 13.9384 5.22391 12.8153C3.47839 11.6923 2.08513 10.2147 1.04411 8.38265C0.960778 8.23907 0.899878 8.09436 0.861411 7.94853C0.822944 7.80268 0.803711 7.65299 0.803711 7.49948C0.803711 7.34596 0.822944 7.19645 0.861411 7.05095C0.899878 6.90543 0.960778 6.76088 1.04411 6.6173C2.08513 4.78525 3.47839 3.30769 5.22391 2.18463C6.96941 1.06154 8.89472 0.5 10.9998 0.5C13.105 0.5 15.0303 1.06154 16.7758 2.18463C18.5213 3.30769 19.9145 4.78525 20.9556 6.6173C21.0389 6.76088 21.0998 6.90559 21.1383 7.05143C21.1767 7.19728 21.196 7.34696 21.196 7.50048C21.196 7.65399 21.1767 7.8035 21.1383 7.949C21.0998 8.09452 21.0389 8.23907 20.9556 8.38265C19.9145 10.2147 18.5213 11.6923 16.7758 12.8153C15.0303 13.9384 13.105 14.5 10.9998 14.5ZM10.9998 13C12.8832 13 14.6123 12.5041 16.1873 11.5125C17.7623 10.5208 18.9665 9.18331 19.7998 7.49998C18.9665 5.81664 17.7623 4.47914 16.1873 3.48748C14.6123 2.49581 12.8832 1.99998 10.9998 1.99998C9.1165 1.99998 7.38734 2.49581 5.81234 3.48748C4.23734 4.47914 3.03317 5.81664 2.19984 7.49998C3.03317 9.18331 4.23734 10.5208 5.81234 11.5125C7.38734 12.5041 9.1165 13 10.9998 13Z"
        fill="#111827"
      />
    </svg>
  );
}

function VisibilityOff() {
  return (
    <svg
      width="24"
      height="24"
      viewBox="0 0 22 19"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M14.7726 9.97294L13.6496 8.84989C13.8201 7.96014 13.5861 7.20116 12.9477 6.57296C12.3092 5.94476 11.5432 5.70374 10.6496 5.84989L9.52654 4.72684C9.75859 4.61914 9.99736 4.54157 10.2429 4.49414C10.4884 4.44671 10.7406 4.42299 10.9996 4.42299C12.1342 4.42299 13.0973 4.81882 13.889 5.61049C14.6807 6.40216 15.0765 7.36529 15.0765 8.49989C15.0765 8.75886 15.0544 9.0111 15.0101 9.25662C14.9659 9.50212 14.8867 9.74089 14.7726 9.97294ZM17.9534 13.0845L16.8496 12.0499C17.4829 11.5666 18.0496 11.0291 18.5496 10.4374C19.0496 9.84572 19.4663 9.19989 19.7996 8.49989C18.9663 6.81656 17.7621 5.47906 16.1871 4.48739C14.6121 3.49572 12.8829 2.99989 10.9996 2.99989C10.5163 2.99989 10.0454 3.03322 9.58709 3.09989C9.12875 3.16656 8.66625 3.26656 8.19959 3.39989L7.03424 2.23454C7.67012 1.98326 8.31851 1.798 8.97941 1.67877C9.64029 1.55953 10.3137 1.49991 10.9996 1.49991C13.1483 1.49991 15.122 2.05825 16.9207 3.17491C18.7194 4.29158 20.1028 5.80247 21.0707 7.70759C21.1374 7.83451 21.1858 7.96239 21.2159 8.09124C21.246 8.22009 21.2611 8.35631 21.2611 8.49989C21.2611 8.64347 21.2486 8.77969 21.2236 8.90854C21.1986 9.03739 21.1528 9.16527 21.0861 9.29219C20.7322 10.0448 20.288 10.7396 19.7534 11.3768C19.2188 12.014 18.6188 12.5832 17.9534 13.0845ZM10.9996 15.4999C8.89447 15.4999 6.96499 14.9374 5.21116 13.8124C3.45731 12.6874 2.06308 11.2056 1.02846 9.36719C0.945128 9.24027 0.884236 9.10246 0.845786 8.95374C0.807319 8.80502 0.788086 8.65374 0.788086 8.49989C0.788086 8.34604 0.804753 8.19732 0.838086 8.05374C0.871419 7.91016 0.929753 7.76977 1.01309 7.63259C1.38489 6.95311 1.80604 6.30599 2.27656 5.69124C2.74708 5.07649 3.2881 4.52553 3.89964 4.03837L1.64194 1.76526C1.50347 1.61655 1.4352 1.43995 1.43714 1.23546C1.43905 1.03098 1.51244 0.856306 1.65731 0.71144C1.80218 0.566573 1.97782 0.494141 2.18424 0.494141C2.39064 0.494141 2.56627 0.566573 2.71114 0.71144L19.288 17.2883C19.4265 17.4268 19.4999 17.5983 19.5082 17.8027C19.5165 18.0072 19.4432 18.187 19.288 18.3422C19.1432 18.487 18.9675 18.5595 18.7611 18.5595C18.5547 18.5595 18.3791 18.487 18.2342 18.3422L14.715 14.8537C14.1252 15.0819 13.5191 15.2467 12.8967 15.3479C12.2743 15.4492 11.6419 15.4999 10.9996 15.4999ZM4.95346 5.09216C4.36756 5.54473 3.84095 6.0566 3.37364 6.62777C2.90632 7.19892 2.51497 7.82296 2.19959 8.49989C3.03292 10.1832 4.23709 11.5207 5.81209 12.5124C7.38709 13.5041 9.11625 13.9999 10.9996 13.9999C11.4291 13.9999 11.8519 13.971 12.2679 13.9133C12.6839 13.8557 13.0971 13.7666 13.5073 13.646L12.2419 12.3499C12.0393 12.4383 11.8371 12.4982 11.6352 12.5297C11.4332 12.5611 11.2214 12.5768 10.9996 12.5768C9.86499 12.5768 8.90185 12.181 8.11019 11.3893C7.31852 10.5976 6.92269 9.63449 6.92269 8.49989C6.92269 8.27809 6.93999 8.06623 6.97461 7.86432C7.00923 7.66238 7.06756 7.46013 7.14961 7.25757L4.95346 5.09216Z"
        fill="#111827"
      />
    </svg>
  );
}

export default function Input({
  type,
  placeholder,
  error,
  name,
  value,
}: InputProps) {
  const [showPassword, setShowPassword] = useState(false);

  const togglePassword = () => {
    setShowPassword((prevState) => !prevState);
  };

  return (
    <div className="relative flex w-full flex-col gap-2">
      <input
        className={`w-full rounded-xl bg-gray-50 px-[16px] py-[10px] focus:outline-orange-600 ${
          error ? 'border-2 border-red-600' : 'border-none'
        }`}
        type={showPassword && type === 'password' ? 'text' : type}
        placeholder={placeholder}
        required
        name={name}
        value={value}
      />
      {type === 'password' && (
        <button
          type="button"
          onClick={togglePassword}
          className="absolute right-2 top-1/2 -translate-y-1/2 transform"
        >
          {showPassword ? <VisibilityOff /> : <VisibilityOn />}
        </button>
      )}
      {error && <span className="text-sm text-red-600">{error}</span>}
    </div>
  );
}
